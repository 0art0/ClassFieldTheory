\chapter{Group Cohomology}

\section{Group cohomology and homology}

Let $G$ be a group and $R$ a commutative ring.
By a \emph{representation of $G$ over $R$},
we shall mean an $R$-module $A$ with an action of $G$ by $R$-linear maps.
We'll write $\Mod(R)$ for the category of $R$-modules and $\Rep(R,G)$
for the category of such representations.
In Mathlib these are called \texttt{ModuleCat R} and \texttt{Rep R G}.

If $S$ is a subgroup of $G$ and $M$ is a representation of $G$
then $M \downarrow S$ will mean the same $R$-module $M$,
but regarded only as a representation of $S$.
We shall write $M^S$ for the $R$-submodule of $S$-invariant vectors in $M$.
If the subgroup $S$ is normal then $M^S$ is a representation of the quotient group $G/S$.

\begin{definition} \label{def:inflation restriction functors}
	\lean{Rep.quotientToInvariantsFunctor,
		Rep.res}
	The map $M \mapsto M \downarrow S$ defines a functor $\Res : \Rep(R,G) \to \Rep(R,S)$.
	If $S$ is a normal subgroup of $G$ then then map $M \mapsto M^S$ defines
	a functor $\Inf : \Rep(R,G) \to \Rep(R, G/S)$.
	These functors are called \emph{restriction} and \emph{inflation} respectively.
\end{definition}

\begin{lemma} \label{lem:restriction exact}
	\lean{Rep.res_respectsShortExact}
	\uses{def:inflation restriction functors}
	\leanok
	Let $S$ be a subgroup of $G$.
	A sequence $0 \to A \to B \to C \to 0$ is exact in $\Rep(R,G)$ if and only if
	the sequence $0 \to A \downarrow S \to B \downarrow S \to C \downarrow S$ is exact
	in $\Rep(R,S)$.
\end{lemma}

Given a representation $M$ of $G$, there is a cochain complex of $R$-modules
\[
	C^0(G,M) \stackrel{d^0}\to C^1(G,M)  \stackrel{d^1}\to C^2(G,M)  \stackrel{d^2}\to \cdots
\]
where each term $C^n(G,M)$ is the space of functions $G^n \to M$ with some appropriately defined
linear maps $d^i$ linking them.
The zeroth module $C^0(G,M)$ should be interpreted as just $M$.
The cochain complex $C^\bullet(G,M)$ is functorial in $M$ and is defined in Mathlib as
\texttt{groupCohomology.cochainsFunctor}.
The cohomology groups of this chain complex are called the cohomology groups of the
$G$-module $M$, and are written $H^n(G,M)$. These are defined in Mathlib as
\texttt{groupCohomology M n}, or \texttt{(groupCohomology.functor n).obj M}.

\begin{definition} \label{def:restriction map}
	\lean{groupCohomology.rest}
	\uses{def:inflation restriction functors}
	If $S$ is a subgroup of $G$, then we write $H^n(S,M)$ for the
	cohomology groups of the restricted representation $M \downarrow S$.
	If $f \in G^n \to M$ is an element of $C^n(G,M)$, then we may restrict $f$ to
	a function $S^n \to M$. Restricting functions in this way defines a map of
	cochain complexes $C^\bullet(G,M) \to C^\bullet(S,M)$, and hence a map of
	cohomology groups
	\[
		\rest : H^n(G,M) \to H^n(S,M).
	\]
	This map is called the \emph{restriction map}.
\end{definition}

\begin{definition} \label{def:inflation map}
	\lean{groupCohomology.cochain_infl,
		groupCohomology.infl
	}
	\uses{def:inflation restriction functors}
	If $S$ is a normal subgroup of $G$, then we write $H^n(G/S,M^S)$ for the
	cohomology groups of the representation $M^S$ of $G/S$.
	If $f \in (G/S)^n \to M^S$ is an element of $C^n(G/S,M^S)$, then we may ``inflate'' $f$ to
	a function $G^n \to M$. This inflation process defines a map of
	cochain complexes $C^\bullet(G/S,M^S) \to C^\bullet(G,M)$, and hence a map of
	cohomology groups, called the \emph{inflation map}:
	\[
		\infl : H^n(G/S,M^H) \to H^n(G,M).
	\]
\end{definition}

The following results are in a current PR.

\begin{lemma} \label{lem:cochainsFunctor exact}
  The functor taking $M$ to $C^\bullet (G,M)$ is exact.
  I.e. if $0 \to A \to B \to C \to 0$ be a short exact sequence of $G$-modules.
  Then the corresponding sequence of cochain complexes is exact:
  \[
    0 \to C^n(G,A) \to C^n(G,B) \to C^n(G,C) \to 0.
  \]
\end{lemma}

As a consequence of this, we have the following (also a current PR):

\begin{definition} \label{def:cohomology long exact sequence}
  \lean{groupCohomology.δ,
		groupCohomology.longExactSequence₁,
		groupCohomology.longExactSequence₂,
		groupCohomology.longExactSequence₃}
  \uses{lem:cochainsFunctor exact}
  Given a short exact sequence $0 \to A \stackrel{f}\to B \stackrel{g}\to C \to 0$ of $G$-modules,
  the corresponding sequence of cochain complexes is exact:
  $0 \to C^n(G,A) \to C^n(G,B) \to C^n(G,C) \to 0$.
  This implies that there exist "connecting homomorphisms" $\delta : H^n(G,C) \to H^{n+1}(G,A)$,
  such that the following is a long exact sequence:
  \[
    0 \to H^0(G,A) \stackrel{H^0(f)}\to H^0(G,B) \stackrel{H^0(g)}\to H^0(G,C) \stackrel{\delta}\to
    H^1(G,A) \stackrel{H^1(f)}\to H^1(G,B) \stackrel{H^1(g)} \to H^1(G,C) \stackrel{\delta}\to \cdots.
  \]
\end{definition}

\begin{lemma} \label{lem:inflation restriction naturality}
	\lean{groupCohomology.rest,
		groupCohomology.infl,
		groupCohomology.rest_δ_naturality,
		groupCohomology.infl_δ_naturality}
	\uses{
		lem:restriction exact,
		def:restriction map,
		def:inflation map,
		def:cohomology long exact sequence}
	\leanok
	Let $S$ be a subgroup of $G$ and suppose we have a short exact sequence
	$0 \to A \to B \to C \to 0$ in $\Rep(R,G)$.
	Then the following diagram commutes, where the rows are the long exact sequences
	for $0 \to A \to B \to C \to 0$ and for its restriction to $S$,
	and the vertical maps are restriction.
	\[
  	\begin{array}{ccccccc}
			H^n(G,A) & \to & H^n(G,B) &\to &H^n(G,C)& \to& H^{n+1}(G,A)\\
			\downarrow&&\downarrow&&\downarrow&&\downarrow \\
			H^n(S,A) & \to & H^n(S,B) &\to &H^n(S,C)& \to& H^{n+1}(S,A)
		\end{array}
  \]
	Suppose now that $S$ is a normal subgroup of $G$. Then we have for every
	map $f : A \to B$ in $\Rep(R,G)$ a commuting square in which the vertical maps are inflation.
	\[
  	\begin{array}{ccccccc}
			H^n(G/S,A^S) & \stackrel{\Inf(f)}\to & H^n(G/S,B^S)\\
			\downarrow&&\downarrow \\
			H^n(G,A) & \stackrel{f}\to & H^n(G,B)
		\end{array}.
	\]
	If $0 \to A \to B \to C \to 0$ is exact in $\Rep(R,G)$ and its inflation
	$0 \to A^S \to B^S \to C^S \to 0$ is also exact in $Rep(R,G/S)$, then
	we have a commutative diagram in which the rows are the corresponding long exact
	sequences and the vertical maps are inflation:
	\[
  	\begin{array}{ccccccc}
			H^n(G/S,A^S) & \to & H^n(G/S,B^S) &\to &H^n(G/S,C^S)& \to& H^{n+1}(G/S,A^S)\\
			\downarrow&&\downarrow&&\downarrow&&\downarrow \\
			H^n(G,A) & \to & H^n(G,B) &\to &H^n(G,C)& \to& H^{n+1}(G,A)
		\end{array}.
  \]
\end{lemma}

\begin{definition} \label{def:group homology}
	\lean{groupHomology.inhomogeneousChains,
		groupHomology,
		groupHomology.chainsMap,
		groupHomology.Map}
	There is also a chain complex of $R$-modules:
	\[
		\cdots \stackrel{d_2}\to C_2(G,M) \stackrel{d_1}\to C_1(G,M) \stackrel{d_0}\to C_0(G,M)
	\]
	whose $n$-th term is the space of finitely supported functions
	$f : G^n \to_0 M$, with appropriately defined boundary maps $d_n$.
	In the case $n=0$ this is interpreted as meaning $C_0(G,M) = M$.
	The homology groups of $C_n(G,M)$ are called the \emph{homology groups of $M$}
	and are written $H_n(G,M)$.
	These are not yet in Mathlib but are defined in a current PR.
\end{definition}

We also note the following, which is a current PR:

\begin{lemma}	\label{lem:homology 1 Z}
	\lean{groupHomology.one_trivial_int_iso}
	\leanok
	There is a canonical isomorphism $H_{1}(G,\Z) \cong G^{ab}$.
\end{lemma}



\section{Tate Cohomology}

Throughout this section, the group $G$ is assumed to be finite.
Under this assumption, we show that the homology and cohomology groups
may both be regarded as part of a bigger cohomology theory, which is called Tate cohomology.

\begin{definition} \label{def:norm}
	\lean{Representation.norm,
		groupCohomology.TateNorm}
	\uses{def:group homology}
	Let $G$ be a finite group and $M$ a representation of $G$ over a commutative ring $R$.
	There is a canonical linear map $N_G : M \to M$ called the \emph{norm},
	defined by
	\[
		N_G(m) = \sum_{g \in G} g \bullet m.
	\]
	We shall also regard the norm as a linear map from $C_0(G,M)$ to $C^0(G,M)$, both of which may
	be identified with $M$.
\end{definition}

\begin{lemma}	\label{lem:norm comm}
	\lean{Representation.norm_comm,
		Representation.norm_comm'}
	\uses{def:norm}
	\leanok
	For any $g \in G$ and $m \in M$ we have $g \bullet N_G (m) = N_G (m)$
	and $N_G (g \bullet m) = N_G (m)$.
\end{lemma}

\begin{lemma}	\label{lem:norm comp d}
	\lean{groupCohomology.TateNorm_comp_d}
	\uses{def:norm, lem:norm comm}
	\leanok
	The composition $d^0 \circ N_G$ is zero.
\end{lemma}

\begin{proof}
	The map $d^0 : M \to (G \to M)$ is given by
	$(d^0 m)(g) = m - g\bullet m$.
	Using this formula, we obtain (by Lemma \ref{lem:norm comm})
	$d^0 (N_G m) (g) = N_G m - g \bullet N_G m = 0$.
\end{proof}

\begin{lemma}	\label{lem:d comp norm}
	\lean{groupCohomology.d_comp_TateNorm}
	\uses{def:norm, lem:norm comm, def:group homology}
	The composition $N_G \circ d_0$ is zero.
\end{lemma}

\begin{proof}
	This will follow in a similar way to the previous result
	once group homology is merged into Mathlib.
\end{proof}

\begin{definition} \label{def:Tate cohomology}
	\lean{groupCohomology.TateComplex,
		groupCohomology.TateComplexFunctor,
		groupCohomology.TateCohomology}
	\uses{
		lem:norm comp d,
		lem:d comp norm}
	\leanok
	Recall that we have a cochain complex $C^n(G,M)$, indexed by $n \in \N$,
	 whose cohomology is $H^n(G,M)$.
	We also have a chain complex $C_n(G,M)$ whose homology is $H_n(G,M)$.
	The terms $C^0(G,M)$ and $C_0(G,M)$ may both be identified with $M$.
	Gluing the chain complex and the cochain complex together with the map $N_G : M \to M$, we obtain
	a cochain complex indexed by $\Z$:
	\[
		\cdots \to C_2(G,M) \to C_1(G,M) \stackrel{d_0}\to C_0(G,M)
		\stackrel{N_G}\to C^0(G,M) \stackrel{d^0}\to C^1(G,M) \to C^2(G,M) \to \cdots
	\]
	We shall write $C^n_{Tate}(G,M)$ for this cochain complex,
	and we normalize the indices so that for
	natural numbers $n$ we have $C^n_{Tate}(G,M) = C^n(G,M)$. This implies
	$C^{-n-1}_{Tate}(G,M) = C_n(G,M)$.
	This construction is functorial in $M$.

	For an integer $n$, we shall write $H^n_{Tate}(G,M)$ for the $n$-th cohomology of the complex
	$C^n_{Tate}(G,M)$; this is called the $n$-th Tate cohomology of $M$,
	and is often written $\hat H^n(G,M)$ or just $H^n(G,M)$ in the literature.
	We define this as a functor from $\Rep(R,G)$ to $\Mod(R)$.
\end{definition}

\begin{lemma}	\label{lem:Tate cohomology is cohomology or homology}
  \lean{groupCohomology.TateCohomology.iso_groupCohomology,
    groupCohomology.TateCohomology.iso_groupHomology,
		groupCohomology.TateCohomology_zero_iso,
		groupCohomology.TateCohomology_zero_iso_of_isTrivial,
		groupCohomology.TateCohomology_neg_one_iso,
		groupCohomology.TateCohomology_neg_one_iso_of_isTrivial}
	\uses{def:Tate cohomology}
	\leanok
	\begin{itemize}
		\item
		The zeroth Tate cohomology $H^0_{Tate}(G,M)$ is isomorphic to $M^G / N_G(M)$.
		In particular if $M$ is a trivial representation of $G$ then
		$H^0_{Tate}(G,M) \cong M / |G|M$.
		\item
		For $n >0 $ we have
		\[
			H^{n}_{Tate}(G,M) \cong H^{n} (G,M).
		\]
		\item
		There is an isomorphism
		\[
			H^{-1}_{Tate}(G,M) \cong \ker (N_G : M \to M ) /
			\langle {m - g \bullet m : m \in M, g \in G}\rangle.
		\]
		In particular if $M$ is a trivial representation of $G$ then
		$H^{-1}_{Tate}(G,M)$ is isomorphic to the $|G|$-torsion in $M$.
		\item
		For $n < -1$ we have
		\[
			H^{n}_{Tate}(G,M) \cong H_{1-n} (G,M).
		\]
	\end{itemize}
\end{lemma}

\begin{proof}
	This result is clear from the definition for $n > 0$ and $n < -1$. We'll discuss
	the two remaining cases.

	The $0$-cocycle submodule is the kernel of the map $d^0 : C^0(G,M) \to C^1(G,M)$.
	This is the same as $H^0(G,M)$, which is isomorphic to $M^G$.
	On the other hand $B^0_{Tate}(G,M)$ is by definition the image of $N_G : M \to M$.
	However, this proof cannot yet be attempted in lean because the definition of
	$C^{-1}_{Tate}(G,M) = C_0(G,M) \cong M$ relies on a current PR.

	Similarly, $H_0(G,M)$ is the quotient of $M$ by
	the submodule generated by the elements $m - g \bullet m$, and $H^{-1}_{Tate}(G,M)$
	is the by definition the quotient of $\ker(N_G : M \to M)$ by the same submodule.
	This cannot be formalized until group homology is merged.
\end{proof}

\begin{lemma}	\label{lem:Tate complex exactness}
  \lean{groupCohomology.TateComplexFunctor_preservesFiniteLimits,
    groupCohomology.TateComplexFunctor_preservesFiniteColimits}
	\uses{def:Tate cohomology,
		lem:cochainsFunctor exact}
	\leanok
  $C^\bullet_{Tate}(G,-)$ is an exact functor from $\Rep(R,G)$ to the category
  of cochain complexes of $R$-modules.
\end{lemma}

\begin{proof}
	This follows from the fact that $C^n(G,-)$ and $C_n(G,-)$ are exact functors.
	The proof cannot be formalized until exactness of $C_n(G,-)$ is merged.
\end{proof}

\begin{definition} \label{def:Tate long exact sequence}
	\lean{groupCohomology.TateCohomology.δ}
	\uses{def:Tate cohomology,
		lem:Tate complex exactness}
	\leanok
	Suppose we have a short exact sequence in $\Rep(R,G)$:
	\[
		0 \to A \to B \to C \to 0.
	\]
	By Lemma \ref{lem:Tate complex exactness} we obtain a short exact sequence of Tate complexes.
	Hence there are connecting homomorphisms $\delta : H^n_{Tate}(G,C) \to H^{n+1}(G,A)$
	such that the following is a long exact sequence:
	\[
		\cdots \to H^n_{Tate}(G,A) \to H^n_{Tate}(G,B) \to H^n_{Tate}(G,C)
		\to H^{n+1}(G,A) \to H^{n+1}_{Tate}(G,B) \to \cdots
	\]
	The exactness statements are in Mathlib in the namespace
	\texttt{HomologicalComplex.HomologySequence}.
\end{definition}





\section{Coinduced and induced representations}

\begin{definition} \label{def:trivial cohomology}
	\lean{Rep.TrivialCohomology,
		Rep.TrivialHomology,
		Rep.TrivialTateCohomology}
	\uses{def:group homology}
	\leanok
	Let $M$ be a representation of $G$ over a ring $R$.
	\begin{itemize}
		\item
		$M$ is said to have \emph{trivial cohomology} if for every subgroup $S \le G$
		and every $n > 0$, $H^n(S,M) = 0$.
		\item
		$M$ is said to have \emph{trivial homology} if for every subgroup $S \le G$
		and every $n > 0$, $H_n(S,M) = 0$.
		\item
		Suppose the group $G$ is finite. Then $M$ is said to have \emph{trivial Tate cohomology} if for every subgroup $S \le G$
		and every $n \in \Z$, $H^n_{Tate}(S,M) = 0$.
	\end{itemize}
	(We will later see that for a finite group $G$, the threee concepts are equivalent.)
\end{definition}

In this section we shall construct certain representations with trivial homology and cohomology.

\begin{definition}\label{def:induced}
	\lean{
		Representation.coind₁,
		Rep.coind₁_obj,
		Rep.coind₁,
		Rep.ind₁
	}
	\leanok
	Let $G$ be a group, $R$ a commutative ring and $A$ an $R$-module.
	\begin{itemize}
		\item
		There is an representation of $G$ over $R$
		on the space of all functions $f : G \to A$. The action of an element $g \in G$ on $f$
		is defined by
		\[
			(g \bullet f) (x) = f(xg).
		\]
		This representation is called the coinduced representation and is denoted $\coind_1(G,A)$.
		\item
		There is an representation of $G$ over $R$
		on the space of all finitely supported functions $f : G \to_0 A$.
		The action of an element $g \in G$ on $f$ is defined by
		\[
			(g \bullet f) (x) = f(g^{-1}x).
		\]
		This representation is called the induced representation and is denoted $\ind_1(G,A)$.
	\end{itemize}
	More precisely, $\coind_1(G,-)$ and $\ind_1(G,-)$ are both functors from $\Mod(R)$ to $\Rep(R,G)$.
\end{definition}

\begin{lemma}	\label{lem:coind₁ trivial cohomology}
	\lean{Rep.coind₁_trivialCohomology}
	\uses{def:trivial cohomology,
		def:induced}
	\leanok
	The representation $\coind_1(G,A)$ has trivial cohomology.
\end{lemma}

\begin{proof}
	There is an elementary proof outlined in lean file involving cocycles.
	A more intuitive method of proof would give a more general statement (Shapiro's Lemma).
\end{proof}

\begin{lemma}	\label{lem:coind₁ invariants}
	\lean{Rep.coind₁_quotientToInvariants_iso,
		Rep.coind₁_quotientToInvariants_trivialCohomology}
	\uses{def:induced,
		lem:coind₁ trivial cohomology}
	\leanok
	Let $S$ be a normal subgroup of $G$. Then $\coind_1(G,A)^S$ is isomorphic to $\coind_1(G/S,A)$.
	In particular $\coind_1(G,A)^S$ is has trivial cohomology as a representation of $G/S$.
\end{lemma}

\begin{lemma}	\label{lem:ind₁ trivial homology}
	\lean{Rep.ind₁_trivialHomology}
	\uses{def:induced,
		def:trivial cohomology}
	\leanok
	The representation $\ind_1(G,A)$ has trivial homology.
\end{lemma}

\begin{proof}
	There is an elementary proof, but this cannot be formalized until
	the PR on group homology is merged.
\end{proof}

\begin{definition} \label{def:ind₁ to coind₁}
	\lean{
		Representation.ind₁_toCoind₁,
		Rep.ind₁_toCoind₁,
		Representation.ind₁_toCoind₁,
		Representation.ind₁_toCoind₁_comm,
		Representation.ind₁_equiv_coind₁,
		Rep.ind₁_toCoind₁,
		Rep.instIsIsoAppModuleCatInd₁_toCoind₁OfFinite,
		Rep.ind₁_iso_coind₁}
	\uses{def:induced}
	\leanok
	There is a morphism of representations $\ind_1(G,A) \to \coind_1(G,A)$,
	which takes a finitely supported function $f : G \to_0 A$ to the function
	\[
		x \mapsto f(x^{-1}).
	\]
	If the group $G$ is finite then this map is an isomorphism.
\end{definition}

\begin{lemma}	\label{lem:induced trivial Tate}
	\lean{Rep.ind₁_trivialCohomology,
		Rep.coind₁_trivialHomology
		Rep.ind₁_trivialTateCohomology,
		lem:Tate cohomology is cohomology or homology}
	\uses{def:ind₁ to coind₁,
		lem:coind₁ trivial cohomology,
		lem:ind₁ trivial homology}
	If the group $G$ is finite then $\ind_1(G,A)$ and $\coind_1(G,A)$ have trivial
	Tate cohomology.
\end{lemma}

\begin{proof}
	These representations are isomorphic, so it's
	sufficient to prove that $\ind_1(G,A)$ has trivial Tate cohomology
	(this is the more convenient case to prove).
	We already know that $\ind_1(G,A)$ has trivial homology.
	Also, since it is isomorphic to $\coind_1(G,A)$, it must have trivial cohomology.
	It only remains to prove that $H^0_{Tate}(S,\ind_1(M))$
	and $H^{-1}_{Tate}(S,\ind_1(M))$ are zero	for all subgroups $S$ of $G$.

	Recall that $\ind_1(G,M)$ is the space of functions $G \to_0 M$, and the action of $G$ is by
	left-translation:
	\[
		(g \bullet f) (x) = f (x^{-1}g).
	\]
	We'll write $\single(x,m)$ for the function with value $m\in M$ at $x \in G$ and value $0$
	elsewhere (this is called \texttt{Finsupp.single x m} in Mathlib).
	With this notation we have
	\[
		g \bullet \single(x,m) = \single(gx,m).
	\]

	To prove that $H^0_{Tate}(S,\ind_1(G,A))=0$, we use the isomorphism
	\ref{lem:Tate cohomology is cohomology or homology}
	\[
		H^0_{Tate}(S,\ind_1(G,A)) \cong \ind_1(G,A)^S / N_S \ind_1(G,A).
	\]
	A function $f : G \to M$ is $S$-invariant if $f$ is constant on cosets $Sg$ of $S$.
	If we let $\{g_i\}$ be a set of coset representatives,
	then we have $f = N_S (\sum_i \single(g_i, f(g_i)))$.
	Therefore $H^0_{Tate}(S,\ind_1(G,A))=0$.

	For the $n=-1$ case we use the isomorphism \ref{lem:Tate cohomology is cohomology or homology}:
	\[
		H^{-1}_{Tate}(S,\ind_1(G,A))
		\cong
		\ker(N_S : \ind_1(G,A) \to \ind_1(G,A)) /
			\langle m - s \bullet m : m \in \ind_1(G,A), s \in S \rangle.
	\]
	Suppose $f:G \to M$ is in the kernel of $N_S$.
	This implies that the sum of the values of $f$ over each coset of $S$ is zero.
	We can then write $f$ in the form
	\[
		f = \sum_i \sum_{s \in S} (\single(sg_i, f(sg_i)) - \single(g_i,f(sg_i)))
		= \sum_i \sum_{s \in S} (s \bullet \single(g_i, f(sg_i)) - \single(g_i,f(sg_i))).
	\]
	Therefore $f$ is in the span of the elements $m - s \bullet m$.
\end{proof}




\section{Dimension-shifting}

\subsection{Shifting $\up$}

\begin{definition} \label{def:coind₁'}
	\lean{Representation.coind₁',
		Rep.coind₁'}
	Let $G$ be a group and $M$ a representation of $G$ over a commutative ring $R$.
	There is a representation $\coind_1' (M)$ on the $R$-module of
	functions $G \to M$.
	The action of an element $g \in G$ on a function $f : G \to M$ is given by
	\[
		(g \bullet f)(x) = g \bullet (f (xg)).
	\]
\end{definition}

\begin{lemma}	\label{lem:coind₁' iso coind₁}
	\lean{Rep.coind₁'_obj_iso_coind₁}
	\uses{def:induced, def:coind₁'}
	\leanok
	The representations $\coind_1'(M)$ and $\coind_1(G,M)$ of $G$ are isomorphic.
\end{lemma}

\begin{corollary}	\label{cor:coind₁' trivial cohomology}
	\lean{Rep.coind₁'_trivialCohomology}
	\uses{lem:coind₁' iso coind₁,
		lem:coind₁ trivial cohomology}
	\leanok
	The representation $\coind_1'(M)$ has trivial cohomology.
\end{corollary}

\begin{proof}
	This follows directly from Lemmas \ref{lem:coind₁' iso coind₁}
	and \ref{lem:coind₁ trivial cohomology}.
	\leanok
\end{proof}

\begin{corollary}	\label{cor:coind₁' invariants trivial cohomology}
	\lean{Rep.coind₁'_quotientToInvariants_trivialCohomology}
	\uses{lem:coind₁ invariants,
		lem:coind₁' iso coind₁,
		def:inflation restriction functors}
	Let $S$ be a normal subgroup of $G$. Then $\coind_1'(M)^S$ has trivial cohomology as a
	representation of $G/S$.
\end{corollary}

\begin{proof}
	We've seen in Lemma \ref{lem:coind₁' iso coind₁} that $\coind_1'(M)$
	is isomorphic to $\coind_1(M)$.
	Applying the functor $\Inf$, we obtain an isomorphim between $\coind_1'(M)^S$ and $\coind_1(M)^S$.
	The result then follows from Lemma \ref{lem:coind₁ trivial cohomology}.
\end{proof}

\begin{definition} \label{def:up}
	\lean{Representation.coind₁'_ι,
		Rep.coind₁'_ι,
		Rep.dimensionShift.instMonoAppCoind₁'_ι,
		Rep.dimensionShift.up,
		Rep.dimensionShift.upSes,
		Rep.dimensionShift.up_shortExact,
		Rep.dimensionShift.up_shortExact_res}
	\uses{def:coind₁'}
	There is an injective morphism $M \to \coind_1'(M)$ which takes a vector $m \in M$
	to the constant function on $G$ with value $m$.
	We define a representation $\up(M)$ to be the cokernel of this map, so that we have a short exact
	sequence
	\[
		0 \to M \to \coind_1'(M) \to \up(M) \to 0.
	\]
	This construction is functorial in $M$, i.e. for every $f : M \to N$ in $\Rep(R,G)$,
	there is a commutative diagram
	\[
		\begin{matrix}
			0 & \to& M & \to & \coind_1'(M) & \to& \up(M) \to 0 \\
			&&\downarrow &&\downarrow&&\downarrow \\
			0 & \to& N & \to & \coind_1'(N) & \to& \up(N) \to 0 \\
		\end{matrix}.
	\]
\end{definition}

\begin{corollary}	\label{cor:up iso}
	\lean{Rep.dimensionShift.up_δ_zero_epi,
		Rep.dimensionShift.up_δ_isIso,
		Rep.dimensionShift.up_δiso,
		Rep.dimensionShift.up_δ_zero_epi_res,
		Rep.dimensionShift.up_δ_isIso_res,
		Rep.dimensionShift.up_δiso_res}	\lean{Rep.dimensionShift.up_δiso_natTrans}

	\uses{def:up,
		cor:coind₁' trivial cohomology}
	\leanok
	Let $S$ be any subgroup of $G$ and let $n \in \N$.
	Then the connecting map from the long exact sequence $H^{n+1}(S,\up(M)) \to H^{n+2}(S,M)$ is an
	isomorphism.
	The corresponding map $H^{0}(S,\up(M)) \to H^{1}(S,M)$ is	surjective.

	The isomorphism $H^{n+1}(G,\up(-)) \cong H^{n+2}(G,-)$ is an isomorphism of functors.
	This means that for every morphism $f : M \to N$ of representations,
	the following square commutes:
	\[
		\begin{matrix}
			H^{n+1}(G,\up(M)) & \cong & H^{n+2}(G,M) \\
			\downarrow && \downarrow \\
			H^{n+1}(G,\up(N)) & \cong & H^{n+2}(G,N)
		\end{matrix}.
	\]
\end{corollary}

\begin{proof}
	We have already shown in Corollary \ref{cor:coind₁' trivial cohomology}
	that $\coind_1'(M)$ has trivial cohomology, so $H^{r}(S,\coind_1'(M))=0$
	for all $r>0$.

	The commuting square follows from
	\texttt{HomologicalComplex.HomologySequence.$\delta$\_naturality}
	because the short exact sequence $0 \to M \to \coind_1'(M) \to \up(M) \to 0$
	is functorial in $M$.
\end{proof}

\subsection{Shifting $\down$}
Let $G$ be a group and $M$ a representation of $G$ over a commutative ring $R$.

\begin{definition} \label{def:ind₁'}
	\lean{Representation.ind₁',
		Rep.ind₁'}
	There is a representation $\ind_1' (M)$ on the $R$-module of finitely supported
	functions $G \to_0 M$.
	The action of an element $g \in G$ on a function $f : G \to_0 M$ is given by
	\[
		(g \bullet f)(x) = g \bullet (f (g^{-1}x)).
	\]
	The map $\ind_1'$ is functorial in $M$.
\end{definition}

\begin{lemma}	\label{lem:ind₁' iso ind₁}
	\lean{
		Representation.ind₁'_lequiv,
		Representation.ind₁'_lequiv_comm,
		Rep.ind₁'_obj_iso,
		Rep.ind₁'_iso_forget₂_ggg_ind₁,
	}
	\uses{def:ind₁',
		def:induced}
	\leanok
	The representations $\ind_1'(M)$ and $\ind_1(G,M)$ are isomorphic; more precisely the
	functors $\ind_1'$ and $\ind_1(G,-)$ are isomorphic.
\end{lemma}

\begin{proof}
	The data of the isomorphism is contained in the lean file; the isomorphism
	takes $f : G \to_0 M$ to the finitely supported function
	\[
		x \mapsto x^{-1} \bullet f(x).
	\]
	It remains to check linearity and naturality.
\end{proof}

\begin{corollary}	\label{cor:ind₁' trivial homology}
	\lean{Rep.ind₁'_trivialHomology}
	\uses{lem:ind₁' iso ind₁,
		lem:ind₁ trivial homology}
	\leanok
	The representation $\ind_1'(M)$ has trivial homology.
\end{corollary}

\begin{proof}
	\leanok
	We've shown that $\ind_1'(M)$ is isomorphic to $\ind_1(M)$, which is already known to
	have trivial homology.
\end{proof}

\begin{corollary}	\label{cor:ind₁' iso coind₁'}
	\lean{Rep.ind₁'_iso_coind₁',
		Rep.ind₁'_trivialCohomology,
		Rep.coind₁'_trivialHomology}
	\uses{lem:ind₁' iso ind₁,
		def:ind₁ to coind₁,
		lem:coind₁' iso coind₁}
	\leanok
	If the group $G$ is finite then $\ind_1'(M) \cong \coind_1'(M)$.
	In particular $\ind_1'(M)$ and $\coind_1'(M)$ have both trivial homology and trivial cohomology.
\end{corollary}

\begin{proof}
	Since $G$ is assumed to be finite we have an isomorphism $\ind_1 \cong \coind_1$.
	\leanok
\end{proof}

\begin{definition} \label{def:down}
	\lean{Representation.ind₁'_π,
		Representation.ind₁'_π_comm,
		Rep.ind₁'_π, Rep.instEpiAppInd₁'_π,
		Rep.dimensionShift.down,
		Rep.dimensionShift.down_ses,
		Rep.dimensionShift.down_shortExact,
		Rep.dimensionShift.down_shortExact_res
	}
	\uses{def:ind₁'}
	For any representation $M$, there is a surjective morphism $\ind_1'(M) \to M$,
	which takes a finitely supported function $f : G \to_0 M$ to the sum $\sum_{x \in G} f (x)$.
	We define $\down(M)$ to be the kernel of this map.
	There is therefore a short exact sequence
	\[
		0 \to \down(M) \to \ind_1'(M) \to M \to 0.
	\]
	Both $\down(M)$ and the short exact seqeunce are functors of $M$; this means that for
	every map $f : M \to N$ in $\Rep(R,G)$, we have a commutative diagram:
	\[
		\begin{matrix}
			\down(M) &\to &\ind_1'(M)& \to& M \\
			\downarrow && \downarrow && \downarrow \\
			\down(N) &\to &\ind_1'(N)& \to& N
		\end{matrix} .
	\]
\end{definition}

\begin{lemma}	\label{lem:down iso}
	\lean{
		Rep.dimensionShift.down_δ_zero_epi,
		Rep.dimensionShift.down_δ_zero_res_epi,
		Rep.dimensionShift.down_δ_isIso,
		Rep.dimensionShift.down_δiso,
		Rep.dimensionShift.down_δiso_natTrans,
		Rep.dimensionShift.down_δ_res_isIso,
		Rep.dimensionShift.down_δiso_res
	}
	\uses{def:down,
		cor:ind₁' trivial homology}
	\leanok
	For any subgroup $S$ of $G$ and any $n \in \N$, connecting
	map in the long exact sequence is an isomorphism:
	\[
		H_{n+1}(S,\down(M)) \cong H_{n+2}(S,M).
	\]
	More precisely this is an isomorphism of functors.
\end{lemma}

\begin{proof}
	This follows because $\ind_1'(M)$ has trivial homology.
\end{proof}

\begin{lemma} \label{lem:induced' trivial Tate}
	\lean{groupCohomology.TateCohomology_coind₁,
		groupCohomology.TateCohomology_coind₁',
		groupCohomology.TateCohomology_ind₁'}
	\uses{lem:induced trivial Tate,
		cor:ind₁' iso coind₁',
		lem:ind₁' iso ind₁}
	\leanok
	If $M$ is a representation of a finite group $G$ then the representations
	$\ind_1'(M)$ and $\coind_1'(M)$ have trivial Tate cohomology.
\end{lemma}

\begin{proof}
	This follows from \ref{lem:induced trivial Tate}
	together with the isomorphisms \ref{cor:ind₁' iso coind₁'} and \ref{lem:ind₁' iso ind₁}.
\end{proof}


\begin{corollary}	\label{cor:Tate up down isos}
	\lean{groupCohomology.instIsIsoModuleCatδ,
		groupCohomology.instIsIsoModuleCatδ_1,
		groupCohomology.upδiso_Tate,
		groupCohomology.downδiso_Tate
	}
	\uses{
		def:up,
		def:down,
		lem:induced' trivial Tate,
		def:Tate long exact sequence}
	\leanok
	If the group $G$ is finite then for every subgroup $S$ of $G$
	and every $n \in \Z$ we have isomorphisms
	\[
		H^n_{Tate}(S, \up(M)) \cong H^{n+1}_{Tate}(S,M),
		\qquad
		H^{n+1}_{Tate}(S, \down(M)) \cong H^{n}_{Tate}(S,M).
	\]
\end{corollary}

\begin{proof}
	These are the connecting homomorphisms from the
	short exact sequences linking $\up(M)$ and $\down(M)$ to $M$.
	They are isomorphisms because $\coind_1'(M)$ and $\ind_1'(M)$ have trivial Tate cohomology.
\end{proof}


\section{The inflation-restriction sequence}

\begin{theorem}
	\label{thm:inflation restriction sequence}
	\lean{groupCohomology.inflationRestriction,
		groupCohomology.inflation_restriction_mono,
		groupCohomology.inflation_restriction_exact}
	\uses{def:up,
		cor:coind₁' invariants trivial cohomology,
		lem:inflation restriction naturality}
	\leanok
	Let $S$ be a normal subgroup of a group $G$ and let $n$ be a positive integer.
	Assume that for all natural numbers $0 <i < n$ we have $H^{i}(S,M)=0$.
	Then the following sequence is exact:
	\[
		0 \to H^{n}(G/S, M^S) \to H^{n}(G,M) \to H^{n}(S,M),
	\]
	where the first map is inflation and the second is restriction.
\end{theorem}

\begin{proof}
	This is already in Mathlib for $n=1$.
	Assume the result is true for $n$; we will prove it for $n+1$
	by dimension-shifting.

	Let $M$ be a representation such that $H^i(S,M)=0$ for all $0 < i < n+1$.
	This implies $H^i(S,up(M)) = 0$ for all $0 < i < n$.
	Hence by the inductive hypothesis the following sequence is exact:
	\[
		0 \to H^n( G/S, \up(M)^S) \to H^n(G, \up(M)) \to H^n(S,\up(M)).
	\]
	Recall that we have a short exact sequence of representations of $G$:
	\[
		0 \to M \to \coind_1'(M) \to \up(M) \to 0.
	\]
	Since $0 < 1 < n+1$ we have $H^1(S,M)=0$,
	so by taking $S$-invariants we obtain a short exact sequence of
	$G/S$-modules:
	\[
		0 \to M^S \to \coind_1'(M)^S \to \up(M)^S \to 0.
	\]
	By \ref{cor:coind₁' invariants trivial cohomology}, $\coind_1'(M)^S$ has trivial cohomology,
	so we have an isomorphism
	\[
		 H^n(G/S, \up(M)^S) \to H^{n+1}(G/S, M^S).
	\]
	We now have a diagram where the horizontal maps are inflation and restriction maps
	and the vertical maps are dimension-shifting isomorphisms.
	\[
		\begin{matrix}
			0 &\to& H^{n}(G/S, \up(M)^S) &\to &H^{n}(G,\up(M)) & \to & H^n(S,\up(M)) \\
			  &   &   \downarrow              &    &  \downarrow         &     &  \downarrow  \\
			0 &\to& H^{n+1}(G/S, M^S) &\to &H^{n+1}(G,M) & \to & H^{n+1}(S,M).
		\end{matrix}
	\]
	The diagram commutes by \ref{lem:inflation restriction naturality}.
	The first row is exact by the inductive hypothesis.
	Therefore the second row is also exact.
\end{proof}






\section{Periodicity for finite cyclic groups}

I this section we shall assume that $G$ is a finite cyclic group of order $n$.
We shall write $\gen$ for a fixed generator of $G$.

\begin{definition} \label{up iso down}
	\lean{Representation.map₁,
		Representation.map₁_ker,
		Representation.map₂_range,
		Rep.up_iso_down}
	Given any representation $M$ of $G$, there is a map
	$\map_1 : \coind_1'(M) \to \coind_1'(M)$ which takes a function $f : G \to M$ to the function
	\[
		x \mapsto f(x) - f(\gen^{-1}x).
	\]
	The kernel of $\map_1$ consists of the constant functions $G \to M$, i.e. the image of the
	map $M \to \coind_1'(M)$.
	Hence by the first isomorphism theorem, the image of $\map_1$ is isomorphic to $\up(M)$.

	Since $G$ is finite, the representations $\coind_1'(M)$ and $\ind_1'(M)$
	are isomorphic, and we define $\map_2$ to be the corresponding map $\ind_1'(M) \to \ind_1'(M)$.
	This is given by
	\[
		\map_2(f) (x) = f(x) - f(x\gen).
	\]
	The image of $\map_2 : \ind_1'(M) \to \ind_1'(M)$ is precisely the set of functions $G \to M$
	which sum to zero. This is the kernel of the map $\ind_1'(M) \to M$,
	which we are calling $\down(M)$.

	We have commutative square with vertical isomorphisms:
	\[
		\begin{matrix}
			\ind_1'(M) & \stackrel{\map_2}\to & \ind_1'(M).
			\downarrow && \downarrow \\
			\coind_1'(M) & \stackrel{\map_1}\to & \coind_1'(M) \\
		\end{matrix}.
	\]
	It follows that $\image(\map_1) \cong \image(\map_2)$,
	i.e.
	\[
		\up(M) \cong \down(M).
	\]
	This is an isomorphism of functors; i.e. for each map $f : M \to N$ in $\Rep(R,G)$
	we have a commuting square:
	\[
		\begin{matrix}
			\up(M) & \stackrel{\up(f)}\to & \up(N) \\
			\downarrow && \downarrow \\
			\down(M) & \stackrel{\down(f)}\to & \down(N)
		\end{matrix}.
	\]
\end{definition}

\begin{corollary} \label{cor:periodic cohomology}
	\lean{Rep.periodicCohomology}
	Let $G$ be a finite cyclic group.
	For all $n > 0$ and all representations $M$
	we have an isomorphism $H^{n}(G,M) \cong H^{n+2}(G,M)$.
\end{corollary}

\begin{proof}
	$H^{n}(G,M) \cong H^{n+1}(G,\down(M)) \cong H^{n+1}(G,\up(M)) \cong H^{n+2}(G,M)$.
\end{proof}

Of course it's also possible to deduce isomorphisms $H^n_{Tate}(G,M) \cong H^{n+2}_{Tate}(G,M)$
for all $n \in \Z$, but we won't actually need these.





\section{The Triviality Criterion}

Recall that a representation $M$ of a group $G$ has trivial cohomology if for all subgroups $H$ of
$G$ and all $n \in \N$, the cohomology groups $H^{n+1}(H,M)$ are zero.

\begin{theorem}
	\lean{groupCohomology.Acyclic_of_even_of_odd_of_solvable}
	Let $M$ be a representation of a finite solvable group $G$.
	Suppose we have positive natural numbers $e$ and $o$ with $e$ even and $o$ odd,
	such that for all subgroups $H$ of $G$ we have
	\[
		H^e(H,M) = 0, \qquad H^o(H,M) = 0.
	\]
	Then $M$ has trivial cohomology.
\end{theorem}

\begin{proof}
	We must prove that $H^{n+1}(H,M) = 0$ for all $H$ and all $n$.
	We'll prove this by induction on $H$. The result is true for the trivial subgroup of $G$.
	Assume that the result is true for $H$, and assume that $H' / H$ is cyclic.
	The inductive hypothesis implies that (for al $n$) the inflation restriction sequence is exact:
	\[
		0 \to H^{n + 1} (H'/H, M^H) \to H^{n+1}(H' , M) \to H^{n+1}(H,M)= 0.
	\]
	We therefore have isomorphisms $H^{n + 1} (H'/H, M^H) \cong H^{n+1}(H' , M)$.
	In particular we have $H^{e} (H'/H, M^H) = 0$ and $H^{o} (H'/H, M^H) = 0$.
	Using periodicity of the cohomology of a cyclic group, we have $H^{n+1}(H'/H,M^H)=0$ for all $n$.
\end{proof}

\begin{theorem}
	\lean{groupCohomology.Acyclic_of_even_of_odd}
	Let $M$ be a representation of a finite group $G$ (no longer assumed to be solvable).
	Suppose we have positive natural numbers $e$ and $o$ with $e$ even and $o$ odd, such that for all subgroups $H$ of $G$ we have
	\[
		H^e(H,M) =0, \qquad H^o(H,M) = 0.
	\]
	Then $M$ has trivial cohomology.
\end{theorem}

\begin{proof}
	(Requires definition of corestriction, which is not yet in Mathlib).
	Let $H$ be a subgroup of $G$.
	Fix a prime number $p$ and let $S_p$ be the Sylow $p$-subgroup of $H$.
	Consider the composition of the restriction and corestriction maps
	\[
		H^{n+1}(H,M) \to H^{n+1}(S_p,M) \to H^{n+1}(H,M).
	\]
	This composition is multiplication by the index $[H:S_p]$,
	and is therefore injective on the $p$-torsion
	in $H^{n+1}(H,M)$.
	However, the previous result implies (since $S_p$ is solvable) that $H^{n+1}(S_p,M)=0$.
	Therefore $H^{n+1}(G,M)$ has zero $p$-torsion.
	The same composition with $S_p$ replaced by the trivial subgroup implies that every element
	of $H^{n+1}(H,M)$ is killed by $|H|$.
	Therefore $H^{n+1}(H,M) = 0$.
\end{proof}


\begin{corollary}
	\label{cor:up and down trivial cohomology}
	\lean{Rep.dimensionShift.up_trivialCohomology,
		Rep.dimensionShift.down_trivialCohomology}
	If $M$ is a representation of a finite group $G$ and $M$ has trivial cohomology
	then $\up(M)$ and $\down(M)$ have trivial cohomology.
\end{corollary}

\begin{proof}
	This follows from the previous result, together with the dimension shifting isomorphisms.
\end{proof}

\begin{theorem}
	\lean{groupCohomology.TateCohomology_of_trivialCohomology,
		Rep.trivialHomology_of_trivialCohomology}
	Let $M$ be a representation of a finite group $G$, and assume that $M$ has trivial cohomology.
	Then for all integers $n$ and all subgroups $H$ of $G$ we have $H^n_{Tate}(H,M)=0$.
	In particular $M$ has trivial homology.
\end{theorem}

\begin{proof}
	Fix an integer $n$ and choose a natural number $m$ such that $m + n > 0$.
	By \ref{cor:up and down trivial cohomology}, $\down^m(M)$ has trivial cohomology.
	Therefore
	\[
		H^n_{Tate}(H,M) \cong H^{n+m}(H, \down^m(M)) \cong 0.
	\]
\end{proof}



\section{The augmentation module $\aug(R,G)$}

Let $G$ be a group and $R$ a commutative ring. We shall also write $R$ for the trivial
representation of $G$ on $R$.
The left regular representation of $G$ is the representation $\ind_1'(R)$, whose
vectors consist of finitely supported functions $f : G \to_0 R$.
There is a surjective morphism $\leftRegular(R,G) \to R$ which takes $f$ to $\sum_{x \in G} f(x)$.
The augmentation module $\aug(R,G)$ is defined to be the kernel of this map.
We therefore have a short exact sequence
\[
	0 \to \aug(R,M) \to \leftRegular(R,G) \to R \to 0.
\]
If we assume that $G$ is finite, then we have shown above that $\leftRegular(R,G)$ has
trivial cohomology.
In particular we have isomorphisms for all $n \in \Z$ and all subgroups $H$ of $G$:
\[
	H^n_{Tate}(H,R) \cong H^{n+1}_{Tate}(H,\aug(R,G)).
\]

\begin{lemma}
	Let $G$ be a finite group.
	Then for every subgroup $H$ of $G$ we have an isomorphism $H^1(H,\aug(R,G)) = R / |H| R$.
\end{lemma}

\begin{proof}
	Since $R$ is a trivial $H$-module, we have $H^0_{Tate}(H,R) \cong R / |H| R$.
\end{proof}


\begin{lemma}
	Let $G$ be a finite group and assume that $R$ has no additive torsion.
	Then for all subgroups $H$ of $G$ we have $H^2(H,\aug(R,G)) = 0$.
\end{lemma}

\begin{proof}
	Since $R$ has no additive torsion we have
	$H^1(G,R) \cong \Hom(G,R) = 0$.
\end{proof}




\section{The splitting module}

In this section $G$ is a finite group; $M$ is a representation of $G$ over a commutative ring $R$
 and $\sigma \in H^2(G,M)$ is a cohomology class satisfying the following conditions for all
 subgroups $H$ of $G$:
\begin{itemize}
	\item
	$H^1(H,M)=0$.
	\item
	$H^2(H,M)$ isomorphic to $R / |H|R$, and is generated by the restriction $\sigma | H$.
\end{itemize}
We shall also assume that $R$ has no additive torsion. This implies
\[
	H^2(G,\aug(R,G)) \cong H^1(G,R) \cong \Hom(G,R) = 0.
\]


The two conditions together mean that $H^2(H,M)$ is isomorphic to $R/|H|R$.
We shall write $\sigma'$ for an inhomogeneous 2-cocycle representing $\sigma$.

\begin{definition}
	The splitting module of $\sigma'$ is the $R$-module $M \times \aug(R,G)$,
	with the action of an element $g \in G$ given by
	\[
		g \bullet (m,f)
		= \left(g \bullet m + \sum_{x \in G} f(x) \sigma'(g,x) , g \bullet f\right).
	\]
	(Although we don't need this fact right now, it's worth knowing that up to isomorphism, the splitting module depends only on the cohomology class $\sigma$. For this reason, we'll write
	$\Split(\sigma)$ for this representation).
\end{definition}



There is evidently a short exact sequence of representations of $G$.
\[
	0 \to M \to \Split(\sigma) \to \aug(R,G) \to 0.
\]

\begin{lemma}
	The image of $\sigma$ in $H^2(G,\Split(\sigma))$ is zero.
\end{lemma}

\begin{proof}

\end{proof}

\begin{theorem}
	Assume $R$ and $\sigma$ satisfy the conditions above.
	Then	$\Split(\sigma)$ has trivial cohomology.
\end{theorem}

\begin{proof}
	By the triviality criterion, it's enough to prove for every subgroup $H$ of $g$ that
	$H^1(H,\Split(\sigma))=0$ and $H^2(H,\Split(\sigma))=0$.
	We have a long exact sequence with the following terms:
	\[
		0 \to H^1(H,\Split(\sigma)) \to H^1(H,\aug(R,G)) \to H^2(H,M) \to H^2(H,\Split(\sigma))
		\to 0.
	\]
	Since $\sigma|H$ generates $H^2(H,M)$, the previous lemma implies that the last map is zero,
	and in particular $H^2(H,\Split(\sigma))=0$ (this uses the fact that restriction is a natural
	transformation).
	The $R$-modules $H^1(H,\aug(R,G))$ and $H^2(H,M)$ are both isomorphic to $R / |H|R$,
	and the map from one to the other is surjective.
	Since every surjective $R$-module endomorphism of $R /|H|R$ is injective, the map
	from $H^1(H,\aug(R,G))$ to $H^2(H,M)$ is injective.
	Therefore $H^1(H,\Split(\sigma))=0$.
\end{proof}



The theorem implies that we have isomorphisms for all $n\in \Z$ (which depend of $\sigma$):
\[
	H^{n}_{Tate}(G,R) \cong H^{n+1}_{Tate}(G,\aug(R,G)) \cong H^{n+2}_{Tate}(G,M).
\]
In particular in the case $n = -2$, $R = \Z$ we have the (inverse of the) reciprocity isomorphism
\[
	G^{ab} \cong H^{-2}(G,\Z) \cong M^G / N_G M.
\]
